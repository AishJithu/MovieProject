{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Movie App | Login</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="{% static 'styles/css/create_movie.css' %}" />

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'styles/bootstrap4/bootstrap.min.css' %}"
    />
  </head>
  <body>
    <div class="main-body container">
      <div class="login-box">
        <h2 class="">Create Movie</h2>
        <br />
        <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="title">Title</label>
                <input
                  required
                  type="text"
                  class="form-control"
                  id="title"
                  name="title"
                />
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="category">Category</label>
                <select
                  required
                  class="form-control"
                  id="category"
                  name="category"
                >
                  <option></option>
                  <option>Comedy</option>
                  <option>Action</option>
                  <option>Thriller</option>
                  <option>Horrer</option>
                  <option>Drama</option>
                  <option>Others</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="trailer">Traier</label>
                <input
                  required
                  type="text"
                  class="form-control"
                  id="trailer"
                  placeholder="Youtybe Video ID"
                  name="trailer"
                />
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="release">Release</label>
                <input
                  required
                  type="date"
                  class="form-control"
                  id="release"
                  name="release"
                />
              </div>
              <div class="invalid-feedback">Please provide a valid zip.</div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="description">Description</label>
                <textarea
                  required
                  class="form-control"
                  id="description"
                  name="description"
                  rows="3"
                ></textarea>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <label for="actors">Actors</label>
                <textarea
                  required
                  class="form-control"
                  id="actors"
                  name="actors"
                  rows="3"
                ></textarea>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <br />
              <div class="">
                <label for="poster">Poster</label>

                <input
                  type="file"
                  id="poster"
                  name="poster"
                  accept="image/*"
                  required
                />
              </div>
              <br />
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <button type="submit" class="btn btn-primary submit-btn">
                Create
              </button>
            </div>
          </div>
        </form>
        <div id="imagePreview"></div>
        <br />
      </div>
    </div>
  </body>
  <script>
    function convertToBase64() {
      const fileInput = document.getElementById("imageInput");
      const file = fileInput.files[0];
      const reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onload = function () {
        document.getElementById("poster").value = reader.result;
        console.log("base64 ---> ", reader.result);
      };
    }
  </script>
</html>
